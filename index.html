<html>
<head>
<title>Site_test</title>
</head>
<body onload="Init()">
<script>
  buildings = new Array();
  buildings = [0,0,0,0];
  buildings = localStorage.buildings ? JSON.parse(localStorage.buildings) : [];
  localStorage.buildings = JSON.stringify(buildings);
  
  cost = new Array(); 
  cost = [15,30,0,0];
  cost = localStorage.cost ? JSON.parse(localStorage.cost) : [];
  localStorage.cost = JSON.stringify(cost);
 
function Click ()
{
  if (localStorage.number)
    localStorage.number = Number(localStorage.number) + 1;
  else
    localStorage.number = 1;
    document.getElementById("result").innerHTML = "You have " + localStorage.number + " cookies ";
}

function Init()
{
buildings = localStorage.buildings ? JSON.parse(localStorage.buildings) : [];
cost = localStorage.cost ? JSON.parse(localStorage.cost) : [];

if (!localStorage.number)
  localStorage.number = 0;

document.getElementById("result").innerHTML = "You have " + localStorage.number + " cookies ";
document.getElementById("number_mouse").innerHTML = buildings[0];
document.getElementById("number_grandma").innerHTML = buildings[1];
document.getElementById("cost_mouse").innerHTML = cost[0];
document.getElementById("cost_grandma").innerHTML = cost[1];

  
} 

function Buy(i)
{
  cost = localStorage.cost ? JSON.parse(localStorage.cost) : [];
  if (localStorage.number>cost[i])
{

buildings = localStorage.buildings ? JSON.parse(localStorage.buildings) : [];
localStorage.number = Number(localStorage.number) - cost[i];
buildings[i] = Number(buildings[i]) + 1;
localStorage.buildings = JSON.stringify(buildings);
Init();
cost[i] = cost[i]*1.15;
}
}

</script>
<div id="result" ></div>
<button onclick="Click()" type="button">Cookie</button><br><br><br>
<button onclick="Buy(0)" type="button">+1 Mouse</button><div id="number_mouse"></div><div id="cost_mouse"></div><br>
<button onclick="Buy(1)" type="button">+1 Grandma</button><div id="number_grandma"></div><div id="cost_grandma"></div><br>

</body>
</html>
